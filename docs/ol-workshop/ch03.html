

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Converting OSM-Files into PostgreSQL-Scripts &mdash; Open Source Routing Library</title>
    
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.05',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Open Source Routing Library" href="../../index.html" />
    <link rel="up" title="Workshop OpenLayers, pgRouting and OSM-data" href="index.html" />
    <link rel="next" title="Transforming, describing and testing the data" href="ch04.html" />
    <link rel="prev" title="Get your own routing data" href="ch02.html" />
    

  </head>
  <body>
    <div class="header">
        <div class="wrap">
            <h1 id="logo"><a href="../../index.html">pgRouting</a></h1>
            <ul id="top-nav">
                <li class="first"><a href="../../index.html">Home</a></li>
                <li><a href="../../documentation.html">Documentation</a></li>
                <li><a href="../../download.html">Download</a></li>
                <li><a href="../../support.html">Support</a></li>
                <li><a href="../../development.html">Development</a></li>
            </ul>

            <div id="searchbox">
                <form class="search" action="../../search.html" method="get">
                    <input id="searchbox-query" type="text" name="q" size="25" value="Search &hellip;" tabindex="3" onblur="if(this.value=='') this.value='Search &hellip;';" onfocus="if(this.value=='Search &hellip;') this.value='';" />
                    <input id="searchbox-submit" type="image" value="Search" src="../../_static/img/search_icon_green.png" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
            </div>
        </div>
    </div>

    	
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="../../index.html">Home</a> &raquo;</li>
          <li><a href="../../documentation.html" >Documentation</a> &raquo;</li>
          <li><a href="../tutorials.html" >Workshops &amp; Tutorials</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Workshop OpenLayers, pgRouting and OSM-data</a> &raquo;</li>
        <li><a href="#">Converting OSM-Files into PostgreSQL-Scripts</a></li>
      </ul>
    </div>
    

    	
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="ch02.html"
                        title="previous chapter">Get your own routing data</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ch04.html"
                        title="next chapter">Transforming, describing and testing the data</a></p>
    
    <h2>Make a Donation</h2>
    <p>
		<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
			<input type="hidden" name="cmd" value="_donations">
			<!--input type="hidden" name="hosted_button_id" value="K6GT9CC2ZPTDG"-->
			<input type="hidden" name="business" value="donate@pgrouting.org">
			<input type="hidden" name="notify_url" value="http://www.pgrouting.org">
			<input type="hidden" name="item_name" value="Donation for pgRouting Project">
			<input type="image" src="https://www.paypal.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!" style="border:none;">
			<select name="currency_code" class="paypal_currency">
				<option value="EUR" title="€" selected="">EUR</option>
				<option value="AUD" title="$">AUD</option>
				<option value="GBP" title="£">GBP</option>
				<option value="JPY" title="¥">JPY</option>
				<option value="CAD" title="$">CAD</option>
				<option value="CHF" title="">CHF</option>
				<option value="USD" title="$">USD</option>
			</select>
			<img alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1">
			<br/>Support pgRouting with some donation! <a href="../../donate.html">Read more</a> about how your donation will help the project.
		</form>				
    </p>
    <h2>Links</h2>
    <ul style="list-style: square; margin-left: 20px;">
    	<li><a href="http://workshop.pgrouting.org/">pgRouting Workshop</a></li>
    	<li><a href="http://www.postgresql.org/">PostgreSQL</a></li>
    	<li><a href="http://www.postgis.org/">PostGIS</a></li>
    </ul>
    
    <!-- Callout -->
    <a href="http://wiki.osgeo.org/wiki/Google_Summer_of_Code_2012">
    <img src="../../_static/img/gsoc_2012.png" 
    	alt="Google Summer of Code 2011" title="Google Summer of Code 2012" style="width:210px;"/>
    </a>
    
    <!--a href="http://2012.foss4g.org">
    <img src="../../_static/img/foss4g_2012.jpg" 
    	alt="FOSS4G 2011, Denver" title="FOSS4G 2012, Beijing" style="width:210px;"/>
    </a-->
    
    <a href="http://www.osgeo.org">
    <img src="../../_static/img/OSGeo_logo.png" 
    	alt="OSGeo Foundation" title="OSGeo Foundation" style="width:210px;"/>
    </a>

        </div>
      </div>
    


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="converting-osm-files-into-postgresql-scripts">
<span id="ol-workshop-ch03"></span><h1>Converting OSM-Files into PostgreSQL-Scripts<a class="headerlink" href="#converting-osm-files-into-postgresql-scripts" title="Permalink to this headline">¶</a></h1>
<p><strong>Author:</strong> René Westerholt (edited by Daniel Kastl)</p>
<p>If you desire to put some data for displaying as an WFS or WMS into your
database you will assert, that most of the available tools for doing something
like this are not very satisfying. The tool &#8220;osm2pgsql&#8221; has the fault, that only
attributes that are necessary for rendering the map, are imported into your
database. If you want to have the attribute &#8220;surface&#8221; (for example) in your
database, this wouldn&#8217;t be imported by osm2pgsql.</p>
<p>The tool &#8220;osm2pgrouting&#8221; works well with creating a routing topology, but it&#8217;s
not usefull for the problem aforementioned. &#8220;osmosis&#8221; is another tool for
importing data into a PostgreSQL database. But it creates a table structure that
is very disastrous because it creates one row for each attribute that belongs to
a geometry. So, if your geometry has 5 attributes, there would be 5 rows with
the structure: ID, Attribute. If you have a big amount of data, you will assert
that this would be very uncomfortable.</p>
<p>Here are some new java programs written by myself, that make it very easy to
import data from OSM-Files into your PostgreSQL databases:</p>
<ul class="simple">
<li><a class="reference download internal" href="../../_downloads/nodes2postgis1.jar"><tt class="xref download docutils literal"><span class="pre">nodes2postgis.jar</span></tt></a></li>
<li><a class="reference download internal" href="../../_downloads/lines2postgis1.jar"><tt class="xref download docutils literal"><span class="pre">lines2postgis.jar</span></tt></a></li>
<li><a class="reference download internal" href="../../_downloads/latlon2google1.jar"><tt class="xref download docutils literal"><span class="pre">latlon2google.jar</span></tt></a></li>
</ul>
<p>The use of the programs is as follows:</p>
<p>For nodes2postgis.jar:</p>
<div class="highlight-bash"><div class="highlight"><pre>java -jar nodes2postgis.jar map.osm
</pre></div>
</div>
<p>For lines2postgis.jar:</p>
<div class="highlight-bash"><div class="highlight"><pre>java -jar lines2postgis.jar map.osm
</pre></div>
</div>
<p>For latlon2google.jar:</p>
<div class="highlight-bash"><div class="highlight"><pre>java -jar latlon2google.jar yourTablename
</pre></div>
</div>
<p>The result of running those java-programms are .sql scripts that can be easily
loaded in the SQL-Performer in PGAdmin III or even be executed on command-line
as ususal.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The program &#8220;latlon2google&#8221; converts the data in the declared table from
geographical reference system into the google projection.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
            <li class="right" style="margin-right: 10px">
              <a href="ch04.html" title="Transforming, describing and testing the data"
                 accesskey="N">next</a></li>
            <li class="right" >
              <a href="ch02.html" title="Get your own routing data"
                 accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Home</a> &raquo;</li>
          <li><a href="../../documentation.html" >Documentation</a> &raquo;</li>
          <li><a href="../tutorials.html" >Workshops &amp; Tutorials</a> &raquo;</li>
          <li><a href="index.html" >Workshop OpenLayers, pgRouting and OSM-data</a> &raquo;</li>
        <li><a href="#">Converting OSM-Files into PostgreSQL-Scripts</a></li>
      </ul>
    </div>

	<div class="footer">
      	&copy; Copyright, pgRouting Community<br/>
      	pgRouting website is hosted on <a href="https://github.com/pgRouting/website">Github</a> |       	
      	<script type="text/javascript"> 
      		document.write('<a href="mailto:' + new Array("project","pgrouting.org").join("@") + '">Contact administrators</a>'); 
      	</script>
    </div>
    
	<!-- Piwik -->
	<script type="text/javascript">
	var pkBaseURL = (("https:" == document.location.protocol) ? "https://stats.georepublic.net/" : "http://stats.georepublic.net/");
	document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
	</script><script type="text/javascript">
	try {
	var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 3);
	piwikTracker.trackPageView();
	piwikTracker.enableLinkTracking();
	} catch( err ) {}
	</script><noscript><p><img src="http://stats.georepublic.net/piwik.php?idsite=3" style="border:0" alt="" /></p></noscript>
	<!-- End Piwik Tag -->

  </body>
</html>