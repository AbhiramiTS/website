
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Converting OSM-Files into PostgreSQL-Scripts &#8212; Open Source Routing Library</title>
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Diagnostic Tools" href="diagnostic_tools.html" />
    <link rel="prev" title="How to Contribute" href="contribute.html" />
    

  </head><body>
    <div class="header">
        <div class="wrap">
            <h1 id="logo"><a href="../../index.html">pgRouting</a></h1>
            <ul id="top-nav">
                <li class="first"><a href="../../index.html">Home</a></li>
                <li><a href="../../documentation.html">Documentation</a></li>
                <li><a href="../../download.html">Download</a></li>
                <li><a href="../../support.html">Support</a></li>
                <li><a href="../../development.html">Development</a></li>
            </ul>

            <div id="searchbox">
                <form class="search" action="../../search.html" method="get">
                    <input id="searchbox-query" type="text" name="q" size="25" value="Search &hellip;" tabindex="3" onblur="if(this.value=='') this.value='Search &hellip;';" onfocus="if(this.value=='Search &hellip;') this.value='';" />
                    <input id="searchbox-submit" type="image" value="Search" src="../../_static/img/search_icon_green.png" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
            </div>
        </div>
    </div>

    	
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="../../index.html">Home</a> &#187;</li>
          <li><a href="../../documentation.html" >Documentation</a> &#187;</li>
          <li><a href="../howto.html" accesskey="U">pgRouting Howto’s</a> &#187;</li>
        <li><a href="#">Converting OSM-Files into PostgreSQL-Scripts</a></li>
      </ul>
    </div>
    

    	
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="contribute.html"
                        title="previous chapter">How to Contribute</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="diagnostic_tools.html"
                        title="next chapter">Diagnostic Tools</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
    


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="converting-osm-files-into-postgresql-scripts">
<span id="convert-osm"></span><h1>Converting OSM-Files into PostgreSQL-Scripts<a class="headerlink" href="#converting-osm-files-into-postgresql-scripts" title="Permalink to this headline">¶</a></h1>
<p><strong>Author:</strong> René Westerholt (edited by Daniel Kastl)</p>
<p>If you desire to put some data for displaying as an WFS or WMS into your
database you will assert, that most of the available tools for doing something
like this are not very satisfying. The tool “osm2pgsql” has the fault, that only
attributes that are necessary for rendering the map, are imported into your
database. If you want to have the attribute “surface” (for example) in your
database, this wouldn’t be imported by osm2pgsql.</p>
<p>The tool “osm2pgrouting” works well with creating a routing topology, but it’s
not usefull for the problem aforementioned. “osmosis” is another tool for
importing data into a PostgreSQL database. But it creates a table structure that
is very disastrous because it creates one row for each attribute that belongs to
a geometry. So, if your geometry has 5 attributes, there would be 5 rows with
the structure: ID, Attribute. If you have a big amount of data, you will assert
that this would be very uncomfortable.</p>
<p>Here are some new java programs written by myself, that make it very easy to
import data from OSM-Files into your PostgreSQL databases:</p>
<ul class="simple">
<li><a class="reference download internal" download="" href="../../_downloads/ddf73768ea769942d5d5ae725c040ff2/nodes2postgis.jar"><code class="xref download docutils literal notranslate"><span class="pre">nodes2postgis.jar</span></code></a></li>
<li><a class="reference download internal" download="" href="../../_downloads/47ead6413bfb21d07260bee0224fd78f/lines2postgis.jar"><code class="xref download docutils literal notranslate"><span class="pre">lines2postgis.jar</span></code></a></li>
<li><a class="reference download internal" download="" href="../../_downloads/d8e909f637c9cc885e69265b3768ff90/latlon2google.jar"><code class="xref download docutils literal notranslate"><span class="pre">latlon2google.jar</span></code></a></li>
</ul>
<p>The use of the programs is as follows:</p>
<p>For nodes2postgis.jar:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>java -jar nodes2postgis.jar map.osm
</pre></div>
</div>
<p>For lines2postgis.jar:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>java -jar lines2postgis.jar map.osm
</pre></div>
</div>
<p>For latlon2google.jar:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>java -jar latlon2google.jar yourTablename
</pre></div>
</div>
<p>The result of running those java-programms are .sql scripts that can be easily
loaded in the SQL-Performer in PGAdmin III or even be executed on command-line
as ususal.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The program “latlon2google” converts the data in the declared table from
geographical reference system into the google projection.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
            <li class="right" style="margin-right: 10px">
              <a href="diagnostic_tools.html" title="Diagnostic Tools"
                 accesskey="N">next</a></li>
            <li class="right" >
              <a href="contribute.html" title="How to Contribute"
                 accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Home</a> &#187;</li>
          <li><a href="../../documentation.html" >Documentation</a> &#187;</li>
          <li><a href="../howto.html" >pgRouting Howto’s</a> &#187;</li>
        <li><a href="#">Converting OSM-Files into PostgreSQL-Scripts</a></li>
      </ul>
    </div>

	<div class="footer">
      	&copy; Copyright, pgRouting Community<br/>
      	pgRouting website is hosted on <a href="https://github.com/pgRouting/website">Github</a> |
      	<script type="text/javascript">
      		document.write('<a href="mailto:' + new Array("project","pgrouting.org").join("@") + '">Contact administrators</a>');
      	</script>
    </div>

	<!-- Piwik -->
	<script type="text/javascript">
	var pkBaseURL = (("https:" == document.location.protocol) ? "https://stats.georepublic.net/" : "http://stats.georepublic.net/");
	document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
	</script><script type="text/javascript">
	try {
	var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 3);
	piwikTracker.trackPageView();
	piwikTracker.enableLinkTracking();
	} catch( err ) {}
	</script><noscript><p><img src="http://stats.georepublic.net/piwik.php?idsite=3" style="border:0" alt="" /></p></noscript>
	<!-- End Piwik Tag -->

  </body>
</html>