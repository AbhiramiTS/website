
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>About Mapfish &#8212; Open Source Routing Library</title>
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../../search.html" />
    

  </head>
  <body>
    <div class="header">
        <div class="wrap">
            <h1 id="logo"><a href="../../index.html">pgRouting</a></h1>
            <ul id="top-nav">
                <li class="first"><a href="../../index.html">Home</a></li>
                <li><a href="../../documentation.html">Documentation</a></li>
                <li><a href="../../download.html">Download</a></li>
                <li><a href="../../support.html">Support</a></li>
                <li><a href="../../development.html">Development</a></li>
            </ul>

            <div id="searchbox">
                <form class="search" action="../../search.html" method="get">
                    <input id="searchbox-query" type="text" name="q" size="25" value="Search &hellip;" tabindex="3" onblur="if(this.value=='') this.value='Search &hellip;';" onfocus="if(this.value=='Search &hellip;') this.value='';" />
                    <input id="searchbox-submit" type="image" value="Search" src="../../_static/img/search_icon_green.png" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
            </div>
        </div>
    </div>

    	
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="../../index.html">Home</a> &#187;</li>
        <li><a href="#">About Mapfish</a></li>
      </ul>
    </div>
    

    	
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    
    <h2>Make a Donation</h2>
    <p>
		<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
			<input type="hidden" name="cmd" value="_s-xclick">
			<input type="hidden" name="hosted_button_id" value="K6GT9CC2ZPTDG">
			<input type="hidden" name="business" value="donate@pgrouting.org">
			<input type="hidden" name="notify_url" value="http://www.pgrouting.org">
			<input type="hidden" name="item_name" value="Donation for pgRouting Project">
			<input type="image" src="https://www.paypal.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!" style="border:none;">
			<select name="currency_code" class="paypal_currency">
				<option value="EUR" title="€" selected="">EUR</option>
				<option value="AUD" title="$">AUD</option>
				<option value="GBP" title="£">GBP</option>
				<option value="JPY" title="¥">JPY</option>
				<option value="CAD" title="$">CAD</option>
				<option value="CHF" title="">CHF</option>
				<option value="USD" title="$">USD</option>
			</select>
			<img alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1">
			<br/> <a href="../../donate.html">Read more</a>
		</form>
    </p>
    <h2>Links</h2>
    <ul style="list-style: square; margin-left: 20px;">
        <li><a href="http://workshop.pgrouting.org/">pgRouting Workshop</a></li>
    	<li><a href="http://www.postgresql.org/">PostgreSQL</a></li>
    	<li><a href="http://www.postgis.net/">PostGIS</a></li>
    </ul>

    <!-- Callout -->
    <div class="callout-sidebar">

        <a href="http://2018.foss4g.org">
        <img src="../../_static/img/foss4g_2018.png"
            alt="FOSS4G 2018, Dar es Salaam" title="FOSS4G 2018, Dar es Salaam" style="width:120px;"/>
        </a>

        <a href="https://europe.foss4g.org/2018">
          <img src="../../_static/img/foss4ge_2018.png"
              alt="FOSS4G Europe 2015, Como" title="FOSS4G Europe 2018" style="width:120px;"/>
        </a>

        <a href="http://www.foss4g-asia.org/2018">
          <img src="../../_static/img/foss4gasia_2018.png"
              alt="FOSS4G Europe 2015, Como" title="FOSS4G Asia 2018" style="width:120px;"/>
        </a>

        <a href="http://locatepress.com/pgrouting">
          <img src="../../_static/img/book_fullsize.png"
              alt="pgROUTING a practical guide" title="pgROUTING a practical guide" style="height:100px;"/>
        </a>

        <a href="http://www.osgeo.org">
          <img src="../../_static/img/OSGeo_logo.png"
        	alt="OSGeo Foundation" title="OSGeo Foundation" style="width:210px;"/>
        </a>
    </div>

        </div>
      </div>
    


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="about-mapfish">
<span id="foss4g2008-ch03"></span><h1>About Mapfish<a class="headerlink" href="#about-mapfish" title="Permalink to this headline">¶</a></h1>
<p>MapFish is an easy-to-use and extensible web 2.0 mapping application framework.</p>
<p>MapFish is composed of two parts: MapFish Client and MapFish Server. MapFish
Client is a JavaScript framework based on OpenLayers for the mapping part, and
on ExtJS for the GUI (widgets) part. MapFish Server is responsible for server
side treatments and composed from several modules which can be implemented in
several languages such as Python, Java, PHP.</p>
<p>MapFish is intended to be easy to use either as a standalone application or as
an add on to an already existing web application. For example the printing
server modules implements high ends functionnalities such as raster/vector multi
sources combinations, integration of complex table.</p>
<p>Some other OSGeo projects like Geoserver plan to integrate this function and are
very pleased to use MapFish for that purpose.</p>
<p>As a standalone application, MapFish offers ways to simply configure some
parameters and quickly have a working web mapping application. As a framework,
MapFish lets you develop advanced and customized webmapping applications.
MapFish API also allows maps to be simply included in an already existing
website such as CMS or Information System oriented applications.</p>
<p>MapFish takes advantage of the Open Source philosophy by nicely aggregating
several existing OS libraries such as SQLAlchemy, GeoJSON, Shapely and JTS.</p>
<p>The strengths of MapFish reside in the integration of several components and the
support of the latest Web 2.0 technology. This allows the creation of advanced
Mapping solutions.</p>
<p>There is plans to use MapFish modular architecture to use some component for
standalone integration into other project or applications (MapFish core libs).</p>
<p>An administration tool, named geoadminsuite, is under creation and will simplify the configuration
work and will allow to create new MapFish applications.</p>
<p>Detailed information about how to install and use MapFish is available at the
following address:</p>
<ul class="simple">
<li><a class="reference external" href="https://www.mapfish.org">https://www.mapfish.org</a></li>
<li><a class="reference external" href="https://trac.mapfish.org/trac/mapfish/">https://trac.mapfish.org/trac/mapfish/</a></li>
</ul>
<p>A working minimal MapFish instance is running on the workshop virtual server at
the address</p>
<blockquote>
<div><a class="reference external" href="http://localhost/foss4g08_routing/">http://localhost/foss4g08_routing/</a></div></blockquote>
<p>You’ll have to zoom in the Cape Town area and select the start and end point on
the map, using the tool present on the Routing panel. It will only give result
for the Cape Town area.</p>
<p>Here is some detailed information about how to use the routing system
specifically used in this workshop and installed on the workshop virtual
machine.</p>
<p>The Mapfish project can be found at:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>/var/www/foss4g08_routing
</pre></div>
</div>
<p>From that directory, there are several levels of directories used by the deploy
system.</p>
<p>The interesting stuff about how routing part is working will be found in:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>/var/www/foss4g08_routing/foss4g08_routing/foss4g08_routing/foss4g08_routing/
</pre></div>
</div>
<p>From that point, the file public/index.html contains the JavaScript code to
handle the routing part on the client side, including the panel.</p>
<div class="highlight-js"><div class="highlight"><pre><span></span><span class="c1">//////////////////////////////////// MapFish routing code</span>
           <span class="kd">var</span> <span class="nx">routing</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">mapfish</span><span class="p">.</span><span class="nx">Routing</span><span class="p">(</span><span class="s1">&#39;routing&#39;</span><span class="p">,</span> <span class="nx">map</span><span class="p">,</span> <span class="p">{</span>
               <span class="nx">fetchRoute</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">button</span><span class="p">,</span> <span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
              <span class="kd">var</span> <span class="nx">form</span> <span class="o">=</span> <span class="nx">button</span><span class="p">.</span><span class="nx">ownerCt</span><span class="p">.</span><span class="nx">getForm</span><span class="p">();</span>
              <span class="k">if</span> <span class="p">(</span><span class="nx">form</span><span class="p">.</span><span class="nx">isValid</span><span class="p">())</span> <span class="p">{</span>
                  <span class="nx">mapfish</span><span class="p">.</span><span class="nx">Routing</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fetchRoute</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span>
                                                           <span class="nx">form</span><span class="p">.</span><span class="nx">getValues</span><span class="p">());</span>
              <span class="p">}</span>
              <span class="k">this</span><span class="p">.</span><span class="nx">parser</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OpenLayers</span><span class="p">.</span><span class="nx">Format</span><span class="p">.</span><span class="nx">GeoJSON</span><span class="p">({</span>
                  <span class="nx">internalProjection</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">map</span><span class="p">.</span><span class="nx">projection</span><span class="p">,</span>
                  <span class="nx">externalProjection</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">map</span><span class="p">.</span><span class="nx">displayProjection</span>
              <span class="p">});</span>
          <span class="p">}</span>
  <span class="p">});</span>
  <span class="kd">var</span> <span class="nx">selectPointLayer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OpenLayers</span><span class="p">.</span><span class="nx">Layer</span><span class="p">.</span><span class="nx">Vector</span><span class="p">(</span><span class="s2">&quot;point select&quot;</span><span class="p">,</span> <span class="p">{</span>
          <span class="nx">displayInLayerSwitcher</span><span class="o">:</span> <span class="kc">false</span>
  <span class="p">});</span>
  <span class="nx">map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">selectPointLayer</span><span class="p">);</span>
  <span class="nx">selectPointControl</span> <span class="o">=</span> <span class="k">new</span>
                           <span class="nx">OpenLayers</span><span class="p">.</span><span class="nx">Control</span><span class="p">.</span><span class="nx">DrawFeature</span><span class="p">(</span><span class="nx">selectPointLayer</span><span class="p">,</span>
                                              <span class="nx">OpenLayers</span><span class="p">.</span><span class="nx">Handler</span><span class="p">.</span><span class="nx">Point</span><span class="p">,</span> <span class="p">{</span>
          <span class="nx">featureAdded</span><span class="o">:</span> <span class="nx">pointSelected</span>
  <span class="p">});</span>
  <span class="nx">map</span><span class="p">.</span><span class="nx">addControl</span><span class="p">(</span><span class="nx">selectPointControl</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">dragFeature</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OpenLayers</span><span class="p">.</span><span class="nx">Control</span><span class="p">.</span><span class="nx">DragFeature</span><span class="p">(</span><span class="nx">selectPointLayer</span><span class="p">,</span>
<span class="p">{</span>
          <span class="nx">onComplete</span><span class="o">:</span> <span class="nx">pointSelected</span>
  <span class="p">});</span>
  <span class="nx">map</span><span class="p">.</span><span class="nx">addControl</span><span class="p">(</span><span class="nx">dragFeature</span><span class="p">);</span>
  <span class="nx">dragFeature</span><span class="p">.</span><span class="nx">activate</span><span class="p">();</span>
  <span class="c1">//////////////////////////////////// Ext Panel code</span>
  <span class="kd">var</span> <span class="nx">treePanel</span> <span class="o">=</span> <span class="p">{</span>
          <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Layer Tree&#39;</span><span class="p">,</span>
          <span class="nx">xtype</span><span class="o">:</span> <span class="s1">&#39;layertree&#39;</span>
  <span class="p">};</span>
  <span class="kd">var</span> <span class="nx">routingPanel</span> <span class="o">=</span> <span class="p">{</span>
          <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Routing&#39;</span><span class="p">,</span>
          <span class="nx">xtype</span><span class="o">:</span> <span class="s1">&#39;form&#39;</span><span class="p">,</span>
          <span class="nx">defaultType</span><span class="o">:</span> <span class="s1">&#39;combo&#39;</span><span class="p">,</span>
          <span class="nx">defaults</span><span class="o">:</span> <span class="p">{</span>
              <span class="nx">width</span><span class="o">:</span> <span class="mi">160</span><span class="p">,</span>
              <span class="nx">listWidth</span><span class="o">:</span> <span class="mi">160</span><span class="p">,</span>
              <span class="nx">allowBlank</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
              <span class="nx">onTriggerClick</span><span class="o">:</span> <span class="nx">selectPoint</span><span class="p">,</span>
              <span class="nx">triggerClass</span><span class="o">:</span> <span class="s1">&#39;x-form-search-trigger&#39;</span>
          <span class="p">},</span>
          <span class="nx">items</span><span class="o">:</span> <span class="p">[{</span>
              <span class="nx">fieldLabel</span><span class="o">:</span> <span class="s1">&#39;Departure&#39;</span><span class="p">,</span>
              <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;source&#39;</span>
          <span class="p">},</span> <span class="p">{</span>
              <span class="nx">fieldLabel</span><span class="o">:</span> <span class="s1">&#39;Arrival&#39;</span><span class="p">,</span>
              <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;target&#39;</span>
          <span class="p">}],</span>
          <span class="nx">buttons</span><span class="o">:</span> <span class="p">[{</span>
              <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;Show Itinerary&#39;</span><span class="p">,</span>
              <span class="nx">handler</span><span class="o">:</span> <span class="nx">routing</span><span class="p">.</span><span class="nx">fetchRoute</span><span class="p">,</span>
              <span class="nx">scope</span><span class="o">:</span> <span class="nx">routing</span>
          <span class="p">}]</span>
  <span class="p">};</span>
  <span class="kd">var</span> <span class="nx">panel</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Ext</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span>
          <span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;panel&#39;</span><span class="p">,</span>
          <span class="nx">layout</span><span class="o">:</span> <span class="s1">&#39;accordion&#39;</span><span class="p">,</span>
          <span class="nx">frame</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
          <span class="nx">autoHeight</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="nx">defaults</span><span class="o">:</span> <span class="p">{</span>
              <span class="nx">border</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
              <span class="nx">frame</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
              <span class="nx">autoHeight</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
              <span class="nx">bodyStyle</span><span class="o">:</span> <span class="s1">&#39;padding: 5px&#39;</span><span class="p">,</span>
              <span class="nx">map</span><span class="o">:</span> <span class="nx">map</span>
          <span class="p">},</span>
          <span class="nx">items</span><span class="o">:</span> <span class="p">[</span><span class="nx">treePanel</span><span class="p">,</span> <span class="nx">routingPanel</span><span class="p">]</span>
  <span class="p">});</span>
  <span class="nx">panel</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The file public/osm.js contains the JavaScript code to be able to use
OpenStreetMap tile with MapFish/OpenLayers.</p>
<p>On the server side, the file controllers/routing.py contains the code that
handles the nearest edge calculation, the routing calculation with the route
returns as a geojson object.</p>
<div class="highlight-py"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">RoutingController</span><span class="p">(</span><span class="n">BaseController</span><span class="p">):</span>
         <span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
               <span class="c1"># find the nearest node</span>
               <span class="n">source</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nearestEdge</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">source</span>
               <span class="n">target</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nearestEdge</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">target</span>
               <span class="c1"># defines the shortest path function result</span>
               <span class="n">sp_result_type</span> <span class="o">=</span> <span class="p">[</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;vertex_id&#39;</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s1">&#39;edge_id&#39;</span><span class="p">),</span>
                                                                       <span class="n">column</span><span class="p">(</span><span class="s1">&#39;cost&#39;</span><span class="p">)]</span>
               <span class="c1"># the shortest path function</span>
               <span class="n">sp_func</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">shortest_path</span><span class="p">(</span><span class="s2">&quot;SELECT gid AS id, source, target, length</span>
                                                 <span class="n">AS</span> <span class="n">cost</span> <span class="n">FROM</span> <span class="n">ways</span><span class="s2">&quot;,</span>
                                                 <span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
               <span class="c1"># query the database</span>
               <span class="n">route</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">routing_engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">sp_result_type</span><span class="p">,</span>
                                                     <span class="n">from_obj</span><span class="o">=</span><span class="n">sp_func</span><span class="p">))</span>
               <span class="n">ways</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">Session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">osm</span><span class="o">.</span><span class="n">Way</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">osm</span><span class="o">.</span><span class="n">Way</span><span class="o">.</span><span class="n">gid</span><span class="o">.</span><span class="n">in_</span><span class="p">([</span><span class="n">i</span><span class="o">.</span><span class="n">edge_id</span>
                                                                          <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">route</span><span class="p">]))</span>
               <span class="n">result</span> <span class="o">=</span> <span class="n">FeatureCollection</span><span class="p">([</span><span class="n">line</span><span class="o">.</span><span class="n">toFeature</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">ways</span> <span class="k">if</span> <span class="n">line</span><span class="p">])</span>
               <span class="k">return</span> <span class="n">dumps</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
         <span class="k">def</span> <span class="nf">_nearestEdge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wkt</span><span class="p">):</span>
               <span class="n">distance</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">osm</span><span class="o">.</span><span class="n">ways_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">the_geom</span><span class="p">,</span>
                                             <span class="n">func</span><span class="o">.</span><span class="n">GeometryFromText</span><span class="p">(</span><span class="n">wkt</span><span class="p">,</span>
                                                                       <span class="mi">4326</span><span class="p">))</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;dist&#39;</span><span class="p">)</span>
               <span class="c1"># find the nearest way</span>
               <span class="k">return</span> <span class="n">model</span><span class="o">.</span><span class="n">Session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">osm</span><span class="o">.</span><span class="n">ways_table</span><span class="p">,</span> <span class="n">distance</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">&#39;dist&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>You can modify the routing function by modifying func.shortest_path.</p>
<p>The file model/osm.py contains the definition for the routing table used by the
ORM, which is in this case composed one single table:</p>
<div class="highlight-py"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">foss4g08_routing.lib.base</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">MetaData</span><span class="p">,</span> <span class="n">types</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">mapper</span>
<span class="kn">from</span> <span class="nn">mapfish.sqlalchemygeom</span> <span class="kn">import</span> <span class="n">Geometry</span><span class="p">,</span> <span class="n">GeometryTableMixIn</span>
<span class="n">ways_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;ways&#39;</span><span class="p">,</span> <span class="n">MetaData</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">routing_engine</span><span class="p">),</span>
                              <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;gid&#39;</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
                              <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;the_geom&#39;</span><span class="p">,</span> <span class="n">Geometry</span><span class="p">()),</span>
                              <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;source&#39;</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">Integer</span><span class="p">),</span>
                              <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;target&#39;</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">Integer</span><span class="p">))</span>
<span class="k">class</span> <span class="nc">Way</span><span class="p">(</span><span class="n">GeometryTableMixIn</span><span class="p">):</span>
         <span class="n">__table__</span> <span class="o">=</span> <span class="n">ways_table</span>
<span class="n">mapper</span> <span class="o">=</span> <span class="n">mapper</span><span class="p">(</span><span class="n">Way</span><span class="p">,</span> <span class="n">ways_table</span><span class="p">)</span>
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="../../index.html">Home</a> &#187;</li>
        <li><a href="#">About Mapfish</a></li>
      </ul>
    </div>

	<div class="footer">
      	&copy; Copyright, pgRouting Community<br/>
      	pgRouting website is hosted on <a href="https://github.com/pgRouting/website">Github</a> |
      	<script type="text/javascript">
      		document.write('<a href="mailto:' + new Array("project","pgrouting.org").join("@") + '">Contact administrators</a>');
      	</script>
    </div>

	<!-- Piwik -->
	<script type="text/javascript">
	var pkBaseURL = (("https:" == document.location.protocol) ? "https://stats.georepublic.net/" : "http://stats.georepublic.net/");
	document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
	</script><script type="text/javascript">
	try {
	var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 3);
	piwikTracker.trackPageView();
	piwikTracker.enableLinkTracking();
	} catch( err ) {}
	</script><noscript><p><img src="http://stats.georepublic.net/piwik.php?idsite=3" style="border:0" alt="" /></p></noscript>
	<!-- End Piwik Tag -->

  </body>
</html>